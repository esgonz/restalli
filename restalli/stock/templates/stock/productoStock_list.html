{% extends "stock/base.html" %}
{% load static %}
{% block content %}

<main role="main">
        <div class="container">
            <div class="col-8">
            <h2 align="center">Inventario</h2>
            <hr>
            </div>
            </div>
          

            
        <div class="row" id="search">
            <div class="col-8">
              <form class="form-inline my-2 my-lg-0">
                <input class="form-control mr-sm-2 col-6" type="search" placeholder="Buscar producto por nombre" aria-label="Search">
                <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Buscar</button>
              </form>
            </div>
  
            <div class="col-8"></div>
          </div>

      </main>

      <hr>
      <div class="row" id="table-responsive">
      <table class="table table-striped">
          <div class="col-8">
          <thead>
              <tr>
                  <th>Nombre</th>
                  <th>Codigo</th>
                  <th>Porcion</th>
                  <th>Unidad de Medida</th>
                  <th>precio</th>
                  <th>fecha</th>
                  <th>categoria</th>
                  <th>Estado</th>
              </tr>          </thead>

          
              {% for stock in object_list %}
                  <tr>
                  <td>{{ stock.nombreProducto }}</td>
                  <td>{{ stock.codigo }}</td>
                  <td>{{ stock.porcion }}</td>
                  <td>{{ stock.unidadMedida }}</td>
                  <td>{{ stock.precio }}</td>
                  <td>{{ stock.fechaElaboracion }}</td>
                  <td>{{ stock.categoria_uuid }}</td>
                  <td>{{ stock.status }}</td>
                  <td><a class="btn btn-info" href="{% url 'stock:update' pk=stock.uuid %}">Editar</a>
                     <a class="btn btn-danger" href="{% url 'stock:delete' pk=stock.uuid  %}">Eliminar</a>
                  </td>
              </tr>
              {% endfor %}
                 
                  </table>
        <a class="btn btn-primary" href="{% url 'stock:Create'  %}">Agregar</a>
       
                    
    </div>

                <aside class="col-md-4">
                    <br>
                    <h4>Categor√≠as del Stock</h4> <hr>
                    <div class="listaCategoria">
                        <ul class="list-group">
                            {% for categoria in categorias_list %}
                            <li class="list-group-item">
                                <a href="{% url 'stock:list' %}?categoria={{ categoria.uuid }}">{{categoria.nombreCategoria}}</a></li>
                            {% endfor %}    
                        </ul>                    
                    </div>
                    <hr>
                
                </aside>
                <a class="btn btn-primary" href="{% url 'stock:catCreate'  %}">Agregar</a>
            </section>

   </tbody>

   {% if is_paginated %}
  <nav aria-label="Page navigation">
    <ul class="pagination justify-content-center">
      {% if page_obj.has_previous %}
        <li class="page-item ">
          <a class="page-link" href="?page={{ page_obj.previous_page_number }}">&laquo;</a>
        </li>
      {% else %}
        <li class="page-item disabled">
          <a class="page-link" href="#" tabindex="-1">&laquo;</a>
        </li>
      {% endif %}
      {% for i in paginator.page_range %}
        <li class="page-item {% if page_obj.number == i %}active{% endif %}">
          <a class="page-link" href="?page={{ i }}">{{ i }}</a>
        </li>
      {% endfor %}
      {% if page_obj.has_next %}
        <li class="page-item ">
          <a class="page-link" href="?page={{ page_obj.next_page_number }}">&raquo;</a>
        </li>
      {% else %}
        <li class="page-item disabled">
          <a class="page-link" href="#" tabindex="-1">&raquo;</a>
        </li>
      {% endif %}
    </ul>
  </nav>
{% endif %}
                                                
{% endblock %}